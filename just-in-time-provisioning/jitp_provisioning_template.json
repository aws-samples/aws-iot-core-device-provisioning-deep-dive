{
    "Parameters":{
       "AWS::IoT::Certificate::CommonName":{
          "Type":"String"
       },
       "AWS::IoT::Certificate::Organization":{
          "Type":"String"
       },
       "AWS::IoT::Certificate::SerialNumber":{
          "Type":"String"
       },
       "AWS::IoT::Certificate::DistinguishedNameQualifier":{
          "Type":"String"
       },
       "AWS::IoT::Certificate::OrganizationalUnit":{
          "Type":"String",
          "Default":"unclaimed"
       }
    },
    "Resources":{
       "thing":{
          "Type":"AWS::IoT::Thing",
          "Properties":{
             "ThingName":{
                "Ref":"AWS::IoT::Certificate::SerialNumber"
             },
             "AttributePayload":{
                "HW_SW_version":{
                   "Ref":"AWS::IoT::Certificate::DistinguishedNameQualifier"
                }
             },
             "ThingTypeName":{"REF":"AWS::IoT::Certificate::CommonName"},
             "ThingGroups":[
                {
                   "Ref":"AWS::IoT::Certificate::Organization"
                },
                {
                   "Ref":"AWS::IoT::Certificate::OrganizationalUnit"
                }
             ]
          },
          "OverrideSettings":{
             "AttributePayload":"MERGE",
             "ThingTypeName":"REPLACE",
             "ThingGroups":"DO_NOTHING"
          }
       },
       "certificate":{
          "Type":"AWS::IoT::Certificate",
          "Properties":{
             "CertificateId":{
                "Ref":"AWS::IoT::Certificate::Id"
             },
             "Status":"ACTIVE"
          }
       },
       "policy":{
          "Type":"AWS::IoT::Policy",
          "Properties":{
             "PolicyDocument":"AnyTypeThing-policy"
          }
       }
    }
 }